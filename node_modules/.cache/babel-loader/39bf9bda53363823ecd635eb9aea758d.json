{"ast":null,"code":"import { ARTICLES_DETAILS, ARTICLES_LIST_FAIL, ARTICLES_LIST_REQUEST, ARTICLES_LIST_SUCCESS, ARTICLES_CREATE, ARTICLE_UPDATE_REQUEST, ARTICLE_UPDATE_SUCCESS, ARTICLE_UPDATE_FAIL } from \"../constants/articlesConstants\";\nimport * as api from \"../api/articles-api\"; // export const listArticles = () => async (dispatch) => {\n//   const { data } = await api.fetchArticles();\n//   try {\n//     dispatch({\n//       type: ARTICLES_LIST,\n//       payload: data,\n//     });\n//   } catch (error) {\n//     console.log(error.message);\n//   }\n// };\n\nexport const listArticles = () => async dispatch => {\n  dispatch({\n    type: ARTICLES_LIST_REQUEST\n  });\n\n  try {\n    const {\n      data\n    } = await api.fetchArticles();\n    dispatch({\n      type: ARTICLES_LIST_SUCCESS,\n      payload: data\n    });\n  } catch (error) {\n    dispatch({\n      type: ARTICLES_LIST_FAIL,\n      payload: error.message\n    });\n  }\n};\nexport const listArticlesDetails = slug => async dispatch => {\n  try {\n    const {\n      data\n    } = await api.fetchArticlesDetails(slug);\n    dispatch({\n      type: ARTICLES_DETAILS,\n      payload: data\n    });\n  } catch (error) {\n    console.log(error.message);\n  }\n};\nexport const createArticle = article => async dispatch => {\n  try {\n    const data = await api.createArticle(article);\n    console.log(\"data\", data);\n    dispatch({\n      type: ARTICLES_CREATE,\n      payload: data\n    });\n  } catch (error) {\n    console.log(error.message);\n  }\n};\nexport const updateArticles = article => async (dispatch, getState) => {\n  dispatch({\n    type: ARTICLE_UPDATE_REQUEST,\n    payload: product\n  }); // const {\n  //   userSignin: { userInfo },\n  // } = getState();\n\n  try {\n    const {\n      data\n    } = await api.updateArticles(article);\n    dispatch({\n      type: ARTICLE_UPDATE_SUCCESS,\n      payload: data\n    });\n  } catch (error) {\n    const message = error.response && error.response.data.message ? error.response.data.message : error.message;\n    dispatch({\n      type: ARTICLE_UPDATE_FAIL,\n      error: message\n    });\n  }\n};\nexport const deleteProduct = productId => async (dispatch, getState) => {\n  dispatch({\n    type: ARTICLE_DELETE_REQUEST,\n    payload: productId\n  });\n  const {\n    userSignin: {\n      userInfo\n    }\n  } = getState();\n\n  try {\n    const {\n      data\n    } = Axios.delete(`/api/products/${productId}`, {\n      headers: {\n        Authorization: `Bearer ${userInfo.token}`\n      }\n    });\n    dispatch({\n      type: ARTICLE_DELETE_SUCCESS\n    });\n  } catch (error) {\n    const message = error.response && error.response.data.message ? error.response.data.message : error.message;\n    dispatch({\n      type: ARTICLE_DELETE_FAIL,\n      payload: message\n    });\n  }\n};","map":{"version":3,"sources":["/home/erik/Desktop/final/react-blog/src/actions/articles-action.js"],"names":["ARTICLES_DETAILS","ARTICLES_LIST_FAIL","ARTICLES_LIST_REQUEST","ARTICLES_LIST_SUCCESS","ARTICLES_CREATE","ARTICLE_UPDATE_REQUEST","ARTICLE_UPDATE_SUCCESS","ARTICLE_UPDATE_FAIL","api","listArticles","dispatch","type","data","fetchArticles","payload","error","message","listArticlesDetails","slug","fetchArticlesDetails","console","log","createArticle","article","updateArticles","getState","product","response","deleteProduct","productId","ARTICLE_DELETE_REQUEST","userSignin","userInfo","Axios","delete","headers","Authorization","token","ARTICLE_DELETE_SUCCESS","ARTICLE_DELETE_FAIL"],"mappings":"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","sourcesContent":["import {\n  ARTICLES_DETAILS,\n  ARTICLES_LIST_FAIL,\n  ARTICLES_LIST_REQUEST,\n  ARTICLES_LIST_SUCCESS,\n  ARTICLES_CREATE,\n  ARTICLE_UPDATE_REQUEST,\n  ARTICLE_UPDATE_SUCCESS,\n  ARTICLE_UPDATE_FAIL,\n} from \"../constants/articlesConstants\";\nimport * as api from \"../api/articles-api\";\n\n// export const listArticles = () => async (dispatch) => {\n//   const { data } = await api.fetchArticles();\n//   try {\n//     dispatch({\n//       type: ARTICLES_LIST,\n//       payload: data,\n//     });\n//   } catch (error) {\n//     console.log(error.message);\n//   }\n// };\nexport const listArticles = () => async (dispatch) => {\n  dispatch({\n    type: ARTICLES_LIST_REQUEST,\n  });\n  try {\n    const { data } = await api.fetchArticles();\n    dispatch({\n      type: ARTICLES_LIST_SUCCESS,\n      payload: data,\n    });\n  } catch (error) {\n    dispatch({ type: ARTICLES_LIST_FAIL, payload: error.message });\n  }\n};\nexport const listArticlesDetails = (slug) => async (dispatch) => {\n  try {\n    const { data } = await api.fetchArticlesDetails(slug);\n    dispatch({\n      type: ARTICLES_DETAILS,\n      payload: data,\n    });\n  } catch (error) {\n    console.log(error.message);\n  }\n};\nexport const createArticle = (article) => async (dispatch) => {\n  try {\n    const data = await api.createArticle(article);\n    console.log(\"data\", data);\n    dispatch({\n      type: ARTICLES_CREATE,\n      payload: data,\n    });\n  } catch (error) {\n    console.log(error.message);\n  }\n};\nexport const updateArticles = (article) => async (dispatch, getState) => {\n  dispatch({ type: ARTICLE_UPDATE_REQUEST, payload: product });\n  // const {\n  //   userSignin: { userInfo },\n  // } = getState();\n  try {\n    const { data } = await api.updateArticles(article);\n    dispatch({ type: ARTICLE_UPDATE_SUCCESS, payload: data });\n  } catch (error) {\n    const message =\n      error.response && error.response.data.message\n        ? error.response.data.message\n        : error.message;\n    dispatch({ type: ARTICLE_UPDATE_FAIL, error: message });\n  }\n};\nexport const deleteProduct = (productId) => async (dispatch, getState) => {\n  dispatch({ type: ARTICLE_DELETE_REQUEST, payload: productId });\n  const {\n    userSignin: { userInfo },\n  } = getState();\n  try {\n    const { data } = Axios.delete(`/api/products/${productId}`, {\n      headers: { Authorization: `Bearer ${userInfo.token}` },\n    });\n    dispatch({ type: ARTICLE_DELETE_SUCCESS });\n  } catch (error) {\n    const message =\n      error.response && error.response.data.message\n        ? error.response.data.message\n        : error.message;\n    dispatch({ type: ARTICLE_DELETE_FAIL, payload: message });\n  }\n};\n"]},"metadata":{},"sourceType":"module"}